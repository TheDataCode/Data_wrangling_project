{
 "cells": [
  {
   "cell_type": "markdown",
   "metadata": {},
   "source": [
    "## Report: Data wrangling\n"
   ]
  },
  {
   "cell_type": "markdown",
   "metadata": {},
   "source": [
    " The objective of this project is to gather and clean data provided by Udacity and additional data collected from WeRateDogs archive via twitter API. Further analysis will be done on the cleaned data. The data wrangling process will be divided into three steps(gathering,assessing and cleaning).The assessing step will comprise of checking for Quality and Tidiness issues and the cleaning step will take care of cleaning the issues step by step"
   ]
  },
  {
   "cell_type": "markdown",
   "metadata": {},
   "source": [
    "### Gathering data"
   ]
  },
  {
   "cell_type": "markdown",
   "metadata": {},
   "source": [
    "#### In this phase,data is gathered from three sources and read into three different dataframes;\n",
    "* twitter_archive_enhance.csv file (provided by udacity)\n",
    "* image_predictions.tsv (downloaded from a url provided by Udacity using Request library and stored in a file)\n",
    "* tweet_json.txt (queried from twitter API with each json data written line by line) with at minimum tweet id, retweet count and favorite count"
   ]
  },
  {
   "cell_type": "markdown",
   "metadata": {},
   "source": [
    "### Assessing Data\n",
    "After reading the above files into dataframe and inspecting them, these are the concerns noted for this phase:"
   ]
  },
  {
   "cell_type": "markdown",
   "metadata": {},
   "source": [
    "#### Quality issues"
   ]
  },
  {
   "cell_type": "markdown",
   "metadata": {},
   "source": [
    "#### twitter_archive dataframe\n",
    "\n",
    " \n",
    "1. Some entries are retweets instead of original tweets\n",
    "\n",
    "2. Wrong names in 'name' column and capitalised first letters of dog names\n",
    "\n",
    "3. Null values in expanded_urls column\n",
    "\n",
    "4. Wrongly captured multiple dog stage\n",
    "\n",
    "5. Rating denominator of 0\n",
    "\n",
    "6. Source column has html tags and urls attached to the source names\n",
    "\n",
    "7. Erroneous datatype of tweet_id column\n",
    "\n",
    "8. Given id column in the tweet_json table has undescriptive name.\n",
    "\n",
    "\n",
    "\n"
   ]
  },
  {
   "cell_type": "markdown",
   "metadata": {},
   "source": [
    "#### image_predictions dataframe"
   ]
  },
  {
   "cell_type": "markdown",
   "metadata": {},
   "source": [
    "1. Erroneous datatype for tweet_id column\n",
    "\n",
    "2. Mixed case letters for p1, p2, and p3 columns\n",
    "\n",
    "\n",
    "\n",
    "\n"
   ]
  },
  {
   "cell_type": "markdown",
   "metadata": {},
   "source": [
    "#### tweet_json dataframe"
   ]
  },
  {
   "cell_type": "markdown",
   "metadata": {},
   "source": [
    " 1.Erroneous datatype for id column                                                   \n",
    " \n",
    " "
   ]
  },
  {
   "cell_type": "markdown",
   "metadata": {},
   "source": [
    "#### Tidiness issues"
   ]
  },
  {
   "cell_type": "markdown",
   "metadata": {},
   "source": [
    "1.Columns: doggo,floofer,pupper and puppo in the twitter_archive table in different columns\n",
    "\n",
    "2.Columns: rating_numerator and rating_denominator in the twitter_archive table in different columns\n",
    "\n",
    "3.Dealing with 3 different datasets"
   ]
  },
  {
   "cell_type": "markdown",
   "metadata": {},
   "source": [
    "### Data cleaning\n",
    "Before I started the cleaning process, I made copies of all three datasets and named them:\n",
    "twitter_archive_clean, image_predictions_clean and tweet_json_clean respectively"
   ]
  },
  {
   "cell_type": "markdown",
   "metadata": {},
   "source": [
    "#### twitter_archive_clean"
   ]
  },
  {
   "cell_type": "markdown",
   "metadata": {},
   "source": [
    "Removed all inappropriate names and replaced those null cells with np.nan. Changed all names to lower case letters.\n",
    "\n",
    "Dropped nulls from expanded_url column\n",
    "\n",
    "Removed observation with denominator equal 0\n",
    "\n",
    "Extracted source names from original ones with html tags and urls in the source column.\n",
    "\n",
    "Converted tweet_id column from int to str datatype.\n",
    "\n",
    "Melted all the dog stage columns(fluffo,puppo,pupper,doggo) into one column(dog_stage) \n",
    "\n",
    "Captured multiple dog stage and dropped wrongly captured dog stage\n",
    "\n",
    "Divided the rating numerator by rating denominator and assigned it to a new column called rating"
   ]
  },
  {
   "cell_type": "markdown",
   "metadata": {},
   "source": [
    "#### image_predictions dataframe\n"
   ]
  },
  {
   "cell_type": "markdown",
   "metadata": {},
   "source": [
    "Converted tweet_id column from int to str.\n",
    "\n",
    "Changed format of all observations for variables p1,p2 and p3 into lower case"
   ]
  },
  {
   "cell_type": "markdown",
   "metadata": {},
   "source": [
    "#### tweet_json dataframe"
   ]
  },
  {
   "cell_type": "markdown",
   "metadata": {},
   "source": [
    "Renamed the id colum to tweet_id and converted it from int to str datatype"
   ]
  },
  {
   "cell_type": "markdown",
   "metadata": {},
   "source": [
    "*****\n",
    "Dropped columns that were not needed for analysis in the twitter_archive_clean dataframe"
   ]
  },
  {
   "cell_type": "markdown",
   "metadata": {},
   "source": [
    "Merged all three datasets and saved it to a csv file called twitter_archive_master.csv for analysis."
   ]
  }
 ],
 "metadata": {
  "kernelspec": {
   "display_name": "Python 3 (ipykernel)",
   "language": "python",
   "name": "python3"
  },
  "language_info": {
   "codemirror_mode": {
    "name": "ipython",
    "version": 3
   },
   "file_extension": ".py",
   "mimetype": "text/x-python",
   "name": "python",
   "nbconvert_exporter": "python",
   "pygments_lexer": "ipython3",
   "version": "3.10.5"
  },
  "toc": {
   "base_numbering": 1,
   "nav_menu": {},
   "number_sections": true,
   "sideBar": true,
   "skip_h1_title": false,
   "title_cell": "Table of Contents",
   "title_sidebar": "Contents",
   "toc_cell": false,
   "toc_position": {},
   "toc_section_display": true,
   "toc_window_display": true
  }
 },
 "nbformat": 4,
 "nbformat_minor": 2
}
